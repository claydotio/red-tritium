@require '../../vars'

$zIndexTextarea = 2

.z-conversation
  flex: 1
  display: flex
  flex-direction: column
  width: 100%

  > .g-grid
    display: flex
    flex: 1
    flex-direction: column

    > .messages
      transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1)
      flex: 1
      overflow-y: auto
      overflow-x: hidden
      -webkit-overflow-scrolling: touch
      // use gpu
      transform: translateZ(0)
      // margin-bottom: 64px
      width: 100%
      min-width: 0 // fix
      opacity: 0
      padding: 8px
      padding-top: 30px // for loading more indicator
      padding-bottom: 120px // for bottom input bar
      position: relative

      &.is-loaded
        opacity: 1

      > .loading-more
        position: absolute
        top: 0
        display: none
        width: 100%
        height: 30px

      > .message-batch
        > .divider
          width: 100%
          height: 1px
          background: getColor('$white12')
          margin: 0

  > .bottom
    padding: 0 16px 16px 16px
    position: absolute
    bottom: 0
    left: 0
    right: 0
    background: getColor('$tertiary900')

    &.is-gate
      background: getColor('$tertiary700')
      padding: 16px

      > .text
        font-body1()
        text-align: center
        margin-bottom: 4px

  @media (min-width: $breakPointMedium)
    > .textarea-container
      background: getColor('$tertiary900')

      > .g-grid
        margin-bottom: 16px
