@require '../../vars'

$zIndexTextarea = 2

.z-conversation
  display: flex
  flex: 1
  min-height: 0 // fix for older chrome (otherwise doesn't keep height 100)
  flex-direction: column
  width: 100%

  &.has-bottom-bar
    > .messages
      padding-top: 30px + 64px

      > .loading
        top: 64px

  > .messages
    transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1)
    flex: 1
    min-height: 0 // fix for older chrome (otherwise doesn't keep height 100)
    overflow-y: auto
    overflow-x: hidden
    -webkit-overflow-scrolling: touch
    // use gpu
    transform: translateZ(0)
    // margin-bottom: 64px
    width: 100%
    min-width: 0 // fix
    padding: 8px
    box-sizing: border-box
    padding-top: 30px // for loading more indicator
    padding-bottom: 100px // for bottom input bar
    // padding-bottom: 90px
    position: relative

    > .loading
      position: absolute
      top: 0
      left: 0
      right: 0
      height: 30px

    > .message-batch
      opacity: 0

      &.is-loaded
        opacity: 1

      > .divider
        width: 100%
        height: 1px
        background: getColor('$tertiary900Text12')
        margin: 0

  > .bottom
    padding: 0 8px 8px 8px
    position: absolute
    bottom: -1px // fix text showing behind for bottom 1px
    left: 0
    right: 0
    background: getColor('$tertiary900')

    &.is-gate
      background: getColor('$tertiary700')
      padding: 16px

      > .text
        font-body1()
        text-align: center
        margin-bottom: 4px

  @media (min-width: $breakPointMedium)
    > .textarea-container
      background: getColor('$tertiary900')

      // > .g-grid
      //   margin-bottom: 16px
